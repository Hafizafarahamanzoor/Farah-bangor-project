<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>3D Bar Chart in VR</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
</head>
<body>
    <a-scene embedded>
        <a-entity camera look-controls wasd-controls position="0 2 5"></a-entity>
    </a-scene>

    <script>
        // Fetch data from the server
        fetch('/data')
        .then(response => response.json())
        .then(data => {
            const sceneEl = document.querySelector('a-scene');
            data.forEach(item => {
                const barEl = document.createElement('a-box');
                barEl.setAttribute('position', `${item.x} ${item.y / 2} ${item.z}`);
                barEl.setAttribute('height', item.y);
                barEl.setAttribute('width', '0.9');
                barEl.setAttribute('depth', '0.9');
                barEl.setAttribute('color', '#4CC3D9');
                sceneEl.appendChild(barEl);
            });
        });
    </script>
</body>
</html>


